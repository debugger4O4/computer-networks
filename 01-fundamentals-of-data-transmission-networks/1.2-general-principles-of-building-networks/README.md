## Глава 2. Общие принципы построения сетей.
## Простейшая сеть из двух компьютеров.
### Совместное использование ресурсов.
*Разделение ресурсов* - главная цель объединения компьютеров. Пользователи получают доступ к ресурсам других компьютеров:
- переферийные устройства - диски, принтеры, плоттеры, сканеры;
- данные в ОП(оперативная память) или на ВЗУ(внешнее запоминающее устройство);
- вычислительная мощность.
<br><img alt="img.jpg" height="200" src="content%2Fimg.png" width="300"/><br>

### Совместное использование ресурсов.
**Интерфейс** - логическа или физическая граница между объектами. Задает параметры, процедуры и характеристики 
взаимодействия объектов.<br>
Разделяют физичекий и логический интерфейсы:
- **Физический интерфейс** (порт) - набор электрических связей и характеристик сигналов. Разъем с набором контактов, каждый
из которых имеет определенное назначение.
- **Логический интерфейс** (протокол) - набор информационных сообщений определенного формата, которыми обмениваются устройства
или программы, набор правил, определяющих логику обмена этими сообщениями.
<br><img alt="img1.jpg" height="200" src="content%2Fimg1.png" width="300"/><br>
### Связь компьютера с переферийным устройством.
1. Приложению `B` надо вывести данные -> запрос ввода-вывода к ОС -> указывается адрес данных и информация, где надо выполнть печать.
2. ОС получила запрос -> запуск драйвера программы (например, принтер) -> работает интерфейсная карта устройства без участия
приложения и ОС.
3. Драйвер оперирует понятными командами -> загрузка команд в определенной последовательности и данных из буффера ОП в буффер
интерфейсной карты устройства -> побайтная передача по сети контроллеру устройства.
4. Интерфейсная карты выполняет низкоуровневую работу -> последовательная передача битов в линию связи, каждый бит - электрический
сигнал.<br>
Имееются **стартовый** и **стоповый** сигналы.
5. Контроллер -> получение байта -> запуск заданной операции -> конец работы -> драйвер сообщает ОС о выполнении запроса -> ОС сигнализирует 
устройству или приложению.
### Обмен данными между двумя компьютерами.
**Обмен сообщениями**. Необходим **протокол взаимдоействия между приложениями** - регламнет формата и последовательности
сообщений.
### Доступ к переферийным устройствам через сеть.
Работа элементов простой компьютерной сети при решении задачи совметсного использования принтера:
1. Приложение `A` формирует сообщение-запрос к приложению `B` -> помещает запрос в буффер ОП компьютера `A` -> обращается к ОС.
2. ОС -> запуск драйвера сетевой интерфейсной карты -> передача драйверу адреса буффера ОП с сообщением.
3. Драйвер + сетевая интерфейсная карта `A` -> взаимодействие с драйвером и интерфейсной картой `B` -> передача байтового сообщения
в буффер ОП `B`.
4. `B` -> извлечение сообщения из буффера -> интерпретация в соответствии с протоколом -> выполнение необходимых действий.
5. ОС -> запуск драйвера принтера -> кооперация с интерфейсной картой и контроллером -> выполнение требуемой операции печати.
## Сетевое программное обеспечение.
### Сетевые службы и сервисы.
<br><img alt="img2.jpg" height="200" src="content%2Fimg2.png" width="300"/><br>
**Клиент** - модуль для формирования и передачи сообщений-запросов к ресурсам удаленного компьютера от разных приложений
с последующим приемом результатов из сети и их передачей соответствующим приложениям.<br>
**Сервер** - модуль для постоянного ожидания и обслуживания запросов от клиентов.<br>
**Сетевая служба** - пара клиент-сервер с доступом к конкретному типу ресурса компьютера через сеть.<br>
**Сервис** - услуги, предоставляемые службой.
<br><img alt="img3.jpg" height="200" src="content%2Fimg3.png" width="300"/><br>
### Сетевая операционная система.
**Сетевая операционная система** - ОС компьютера, которая управляет локальными ресурсами, предоставляет пользователям и 
приложениям доступ к информационным и аппаратным ресурсам других компьютеров сети.<br>
Удаленный доступ к сетевым ресурсам обеспечивается:
- сетевыми службами;
- средствами транспортного сообщения по сети.

<br><img alt="img4.jpg" height="200" src="content%2Fimg4.png" width="300"/><br>
**Одноранговая ОС** - позволяет обращаться к ресурсам других компьютеров, предоставляет собственные ресурсы в распоряжение
пользователей других компьютеров.<br>
**Клиентская ОС** - содержит преимущественно клиентские части сетевых служб.<br>
**Серверная ОС** (выделенный сервер) - ориентирована на обработку запросов из сети к ресурсам своего компьютера, включает в себя в основном 
серверные части сетевых служб.
### Сетевые приложения.
**Локальное приложение** - целиком выполняется на данном компьютере, использует только локальные ресурсы. Не требует сетевых
средств. Может выполняться на автономно работающем компьютере.<br>
**Централизованное сетевое приложение** - целиком выполняется на данном компьютере, обращается в процессе работы к ресурсам
других компьютеров сети.<br>
**Распределенное (сетевое) приложение** - состоит из нескольких взаимодействующих частей, каждая из которых выполняет какую-то
работу. Части взаимодействуют друг с другом, использую сетевые службы и транспортные средства ОС.
<br><img alt="img5.jpg" height="200" src="content%2Fimg5.png" width="300"/><br>
<br><img alt="img6.jpg" height="200" src="content%2Fimg6.png" width="300"/><br>
## Физическая передача данных по линиям связи.
### Кодирование.
**Кодирование** - представление данных в виде электрических или оптических сигналов.<br>
**Потенциальный способ кодирования** - один уровень напряжения = 1, другой = 0.<br>
**Импульсный способ** - для представления цифр используются импульсы различной полярности.<br>
**Модуляция** - представление дискретной информации в виде синусоидального сигнала.<br>
<br><img alt="img7.jpg" height="200" src="content%2Fimg7.png" width="300"/><br>
### Харакстеристики физических каналов.
**Предложенная нагрузка** - поток данных, поступающий от приложения пользователя на вход сети, которая готова всегда принять
данные. Характеризуется `v Бит/c`. Описывает интенсивность работы источника информации и абстрагируется от свойств физических
каналов.<br>
**Пропускная способность** (емкость канала связи, capacity) - максмальная возможная скорость передачи информации по данному
каналу. Отражает скоростные возможности сети.<br>
**Скорость передачи данных** - фактическая скорость потока данных, прошедшего через сеть или некоторые ее фрагменты.<br>
Типы физических каналов связи:
- **Дуплексны канал** - обеспечивает одновременную передачу информации в обоих направлениях. Может состоять из двух физических
сред, каждая из которых работает только в одном направлении.
- **Полудуплексный канал** - обеспечивает передачу информации в обоих направлениях по очереди.
- **Симплексный канал** - позволяет передавать информацию только в одном направлении.
## Проблемы связи нескольких компьютеров.
### Топология физических связей.
**Топология сети** - конфигурация графа. Вершины - конечные узлы сети (компьютеры, маршрутиризаторы), ребра - физические или
информационные связи между вершинами.
<br><img alt="img8.jpg" height="200" src="content%2Fimg8.png" width="300"/><br>
**Полносвязная топология** - каждый компьютер связан со всеми остальными.<br>
**Ячеистая топология** - удаление нескольких связей из полносвязной топологии.<br>
**Кольцевая топология** - передача данных по кольцо от одного компьютера к другому.<br>
**Звездообразная топология** - каждый компьютер подключается к центральному устройству(концентратор).<br>
**Иерархическая звезда** (дерево) - несколько концентраторов, иерархически соединенные звездообразными свзями.<br>
**Общая шина** - подключение компьютеров к общему пассивному кабелю по схеме "монтажного ИЛИ".<br>
**Смешанная топология** - произвольные связи.<br>
<br><img alt="img9.jpg" height="200" src="content%2Fimg9.png" width="300"/><br>
<br><img alt="img10.jpg" height="200" src="content%2Fimg10.png" width="300"/><br>
### Адресация узлов сети.
**Уникальный адрес** (unicast) - идентификация отдельных интерфейсов.<br>
**Групповой адрес** (multicast) - идентификация сразу нескольких интерфейсов. Помеченные данные доставляются каждому из
узлов группы.<br>
**Широковещательный адрес** (broadcast) - данные доставляются всем узлам сети.<br>
**Адрес произвольной рассылки** (anycast) - задает группу адресов, данные доставляются только по одному узлу. Выбор зависит
от предпочтения.<br>
Адреса могут быть **числовыми** и **символьными**.<br>
**Адресное пространство** - множество адресов, допустимых в рамках некоторой схемы адресации.<br>
**Плоская организация** - множество адресов не структурировано (MAC-адрес, он же **аппаратный адрес** (hardware address)).<br>
**Иерархическая организация** - вложенные друг в друга подгруппы, которые последовательно сужают адресуемую область, определяя
в конце отдельный сетевой интерфейс.<br>
**Протокол разрешения адресов** - преобразование адресов из одного вида в другой:
- **Централизованный подход** - один или несколько компьютеров, в которых хранится таблица соответствия имен различных 
типов (символьные или числовые адреса). Остальные компьютеры обращаются к серверу имен с запросами, чтобы по символьному
имени найти числовой номер необходимого компьютера.
- **Централизованный подход** - каждый компьютер сам хранит все назначенные ему адреса разного типа. Копьютер. которому 
необходимо определить по известному иерархическому числовому адресу некоторого компьютера его плоский аппаратный адрес,
посылает в сеть широковещательный запрос. Тот компьютер, у которого обнаружилось совпадение, посылает ответ, содержащий
искомый аппаратный адрес (Схема использовалась в **протоколе разрешения адресов** (Address Resolution Protocol, ARP) 
стека TCP/IP).
### Коммутация.
**Коммутация** - соединение конечных узлов через сеть транзитных узлов.
**Маршрут** - последовательность узлов, лежащих на пути от отправителя к получателю.
<br><img alt="img11.jpg" height="200" src="content%2Fimg11.png" width="300"/><br>
### Обобщенная задача коммутации.
1. Опредление информационных потоков, для которых требуется прокладывать маршрут.<br>
2. Маршрутеризация потоков - прокладка маршрутов.<br>
3. Продвижение потоков, то есть распознавание потоков и их локальная коммутация на каждом транзитном узле.<br>
4. Мультиплексирование и демультипликсирование потоков.<br>
### Определение иформационных потоков.
**Информационный поток** - непрерывная последовательность данных, объединенных набором общих признаков, выделяющих эти
данные из общего сетевого трафика.<br>
**Метка потока** - некоторое число, которое несут все данные потока.<br>
**Глобальная метка** - назначается данным потока и не меняется на всем его пути. Уникально определяет поток в пределах
сети.<br>
**Локальная метка потока** - динамически меняет значение при передаче данных от одного узла к другому.<br>
Распознавание потоков во время коммутации происходит на основании признаков, помимо обязательного адреса назначения данных,
например идетификаторы приложений.
### Маршрутизация.
Маршрутизация включает в себя две подзадачи:
- определение маршрута;
- опопвещение сети о выбранном маршруте;
<br><img alt="img12.jpg" height="200" src="content%2Fimg12.png" width="300"/><br>
Пральный маршрут зависит от количества узлов, назначение узлов, через которые будет проходить маршрут, пропускная способность
линии передачи данных (Мбит/c).
### Продвижение данных.
<br><img alt="img13.jpg" height="200" src="content%2Fimg13.png" width="300"/><br>
**Интерфейс коммутатора** (порт) - физический модуль, состоящий из приемника и передатчика. Когда передатчик и приемник
работают на дуплексный канал связи, они работают независимо друг от друга, обеспечивая одновременную передачу данных в 
обоих направлениях.<br>
**Входной интерфейс** - приемная часть интерфейса.<br>
**Выходной интерфейс** - выходная часть интерфейса.<br>
<br><img alt="img14.jpg" height="200" src="content%2Fimg14.png" width="300"/><br>
### Мультиплексирование и демультиплексирование.
**Демультиплексирование** - разделение суммарного потока на несколько составляющих его потоков.<br>
**Мультиплексирование** (агрегирование) - образование из нескольких отдельных потоков общего агрегированного потока, который передается 
по одному физическому каналу связи.<br>
<br><img alt="img15.jpg" height="200" src="content%2Fimg15.png" width="300"/><br>
**Мультиплексор** - коммутатор с несколькими входными интерфейсами, агрегатором и одним выходным интерфейсом.<br>
**Демультиплексор** - коммутатор с одним входным интерфейсом и несколькими выходными.<br>
<br><img alt="img16.jpg" height="200" src="content%2Fimg16.png" width="300"/><br>
### Разделяемая среда передачи данных.
<br><img alt="img17.jpg" height="200" src="content%2Fimg17.png" width="300"/><br>
**Разделяемая среда** (shared medium) - физическая среда передачи данных, к которой подключено несколько передатчиков узлов
сети. В каждый момент времени только один из передатчиков какого-либо узла сети получает доступ к разделяемой среде и
использует ее для передачи данных приемнику другого узла, подключенному к этой же среде.<br>
<br><img alt="img18.jpg" height="200" src="content%2Fimg18.png" width="300"/><br>
**Арбитр** - устройство, управляющее доступом к каналу. Используется при решении задачи организации совместного доступа 
к разделяемым линиям связи.
<br><img alt="img19.jpg" height="200" src="content%2Fimg19.png" width="300"/><br>